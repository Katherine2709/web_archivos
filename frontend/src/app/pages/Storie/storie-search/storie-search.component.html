<div class="main-content-container">

  <!-- 🔍 FILTROS -->
  <section class="acciones-container">
    <div class="filtros-principales">
      <input type="text" placeholder="Buscar por N° HC, Caja o Paciente..." class="search-bar" />

      <input type="text" placeholder="Sede o Área..." class="document-filter-input" />

      <div class="date-input-wrapper">
        <label for="fecha-inicio">Desde:</label>
        <input id="fecha-inicio" type="date" />
      </div>

      <div class="date-input-wrapper">
        <label for="fecha-fin">Hasta:</label>
        <input id="fecha-fin" type="date" />
      </div>

      <button class="btn-buscar" type="button">
        <i class="fa fa-search"></i> Buscar
      </button>
    </div>
  </section>

  <!-- 📋 TABLA -->
  <section class="tabla-container">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z2">

      <!-- N° Historia -->
      <ng-container matColumnDef="historia">
        <th mat-header-cell *matHeaderCellDef>N° Historia</th>
        <td mat-cell *matCellDef="let element">{{ element.historia }}</td>
      </ng-container>

      <!-- Nombre Paciente -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef>Nombre Paciente</th>
        <td mat-cell *matCellDef="let element">{{ element.nombre }}</td>
      </ng-container>

      <!-- Tipo Archivo -->
      <ng-container matColumnDef="tipo">
        <th mat-header-cell *matHeaderCellDef>Tipo Archivo</th>
        <td mat-cell *matCellDef="let element">{{ element.tipo }}</td>
      </ng-container>

      <!-- Nombre Documento -->
      <ng-container matColumnDef="documento">
        <th mat-header-cell *matHeaderCellDef>Nombre Documento</th>
        <td mat-cell *matCellDef="let element">{{ element.documento }}</td>
      </ng-container>

      <!-- Formato -->
      <ng-container matColumnDef="formato">
        <th mat-header-cell *matHeaderCellDef>Formato</th>
        <td mat-cell *matCellDef="let element">{{ element.formato }}</td>
      </ng-container>

      <!-- Digitalizador -->
      <ng-container matColumnDef="digitalizador">
        <th mat-header-cell *matHeaderCellDef>Digitalizador</th>
        <td mat-cell *matCellDef="let element">{{ element.digitalizador }}</td>
      </ng-container>

      <!-- Fecha -->
      <ng-container matColumnDef="fecha">
        <th mat-header-cell *matHeaderCellDef>Fecha Carga</th>
        <td mat-cell *matCellDef="let element">{{ element.fecha }}</td>
      </ng-container>

      <!-- 📁 Ubicación -->
      <ng-container matColumnDef="ubicacion">
        <th mat-header-cell *matHeaderCellDef>Ubicación</th>
        <td mat-cell *matCellDef="let element">
          <button class="btn-ubicacion" (click)="abrirUbicacion(element)" title="Ver ubicación de la caja">
            <fa-icon [icon]="faFolder"></fa-icon>
          </button>
        </td>
      </ng-container>

      <!-- Renderizado de columnas -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </section>

  <!-- 🪟 MODAL UBICACIÓN -->
  <div class="modal-overlay" *ngIf="modalAbierto">
    <div class="modal-content">
      <h3>📦 Ubicación</h3>

      <div class="modal-info">
        <p><strong>N° Caja:</strong> {{ historiaSeleccionada.numeroCaja }}</p>
        <p><strong>Almacén:</strong> {{ historiaSeleccionada.almacen }}</p>
        <p><strong>Anaquel:</strong> {{ historiaSeleccionada.anaquel }}</p>
      </div>

      <div class="modal-actions">
        <button (click)="cerrarModal()" class="btn-cerrar">
          Cerrar
        </button>
      </div>
    </div>
  </div>

</div>